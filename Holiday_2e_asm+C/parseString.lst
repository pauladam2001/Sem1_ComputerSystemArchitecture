     1                                  bits 32
     2                                  segment code use32 public code
     3                                  
     4                                  global _function
     5                                  
     6                                  _function:
     7 00000000 55                              push EBP
     8 00000001 89E5                            mov EBP, ESP
     9                                          
    10 00000003 8B7508                          mov ESI, [EBP + 8] ;text
    11 00000006 8B4D04                          mov ECX, [EBP + 4] ;nrOfWords
    12                                          
    13 00000009 BF00000000                      mov EDI, 0
    14                                          .parseTheString:
    15 0000000E 803C3E20                                    cmp byte [ESI + EDI] , 20h         ;check if the actual character is a space
    16 00000012 7408                                        je .increaseNrOfWords
    17                                                      
    18 00000014 803C3E00                                    cmp byte [ESI + EDI], 0            ;check if we are at the end of the string
    19 00000018 7402                                        je .increaseNrOfWords
    20                                                      
    21 0000001A EB08                                        jmp .continuee
    22                                                      
    23                                                      .increaseNrOfWords:
    24 0000001C FE01                                                    inc byte [ECX]
    25                                                      
    26 0000001E 803C3E00                                    cmp byte [ESI + EDI], 0
    27 00000022 7403                                        je .outOfRepeat
    28                                                      
    29                                                      .continuee:
    30                                                      
    31 00000024 47                                          inc EDI
    32 00000025 EBE7                                        jmp .parseTheString
    33                                          
    34                                          .outOfRepeat:
    35                                          
    36 00000027 89EC                            mov ESP, EBP
    37 00000029 5D                              pop EBP
    38                                          
    39 0000002A 8B01                            mov EAX, [ECX]
    40 0000002C C3                          ret
